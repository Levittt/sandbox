<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
    </head>
    <body>
        <script type="text/javascript">
            //функция, удаляющая лишние запятые
            function isCorrect(str){
                String(str);
                let str_length = str.length;
                for (var i = 0; i < str_length; i++) {
                    if (str[i] == ',') {
                        str = str.slice(0, i) + str.slice(i + 1);
                        i--;
                    }
                }
                str = Number(str)
               
                return str
            }

            while (true) {
                var num1 = prompt('Введите первое число');
                if (num1 == 'выход') break;
                num1 = isCorrect(num1);
                
                if (isFinite(num1)){

                    var num2 = prompt('Введите второе число');
                    if (num2 == 'выход') break;
                    num2 = isCorrect(num2);
                    
                    if (isFinite(num2)) {

                        var operation = prompt('Введите операцию, которую хотите произвести: + | - | * | / | возвести в степень | наименьшее число | наибольшее число | выход');
                        switch (operation) {
                            case '+':
                                var result = (Number(num1) + Number(num2));
                                alert(Number(result));
                                break;
                            case '-':
                                var result = (Number(num1) - Number(num2));
                                alert(Number(result));
                                break;
                            case '*':
                                var result = (Number(num1) * Number(num2));
                                alert(Number(result));
                                break;
                            case '/':
                                var result = (Number(num1) / Number(num2));
                                alert(Number(result));
                                break;
                            case 'возвести в степень':
                                var result = pow(num1,num2);
                                alert(Number(result));
                                break;
                            case 'наименьшее число':
                                if (num1 > num2) alert('Наименьшее число:'+(num2))
                                else if (num1 == num2) alert('Числа равны')
                                else alert('Наименьшее число:'+(num1));
                                break;
                            case 'наибольшее число':
                                if (num1 > num2) alert('Наибольшее число:'+(num1))
                                else if (num1 == num2) alert('Числа равны');
                                else alert('Наименьшее число:'+(num2));
                                break;
                            case 'выход':
                                break;
                        }
                        

                    } else {
                        alert('второе значение не числовое');
                        alert(typeof (num2));
                    }
                    
                } else {
                    alert('первое значение не числовое')
                    alert(typeof (num1));
                }

                if (operation == 'выход') break;

                var loop = confirm('Желаете произвести операции над новыми числами?');
                if (loop == false) break;
            }
        </script>
    </body>
</html>
